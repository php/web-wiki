// JavaScript behaviour for 'code' syntax plugin  -  2007-08-31
// Copyright (C) 2007  M.Watermann, D-10247 Berlin, FRG  -  <support@mwat.de>

var syntax_plugin_code=function(){var _cH=' codeHidden',_cS=' codeShown',_reH=/\s*\bcodeHidden\b/gi,_reS=/\s*\bcodeShown\b/gi,_B='',_ini='syntax_plugin_code.js()',_DW,_Divs=function(){var d,l,r=[];try{if((d=window.document.getElementsByTagName('div'))&&(l=d.length)){var e,re=/\bcode\b/i;do{if((e=d[--l])&&(e.className)&&re.test(e.className)){r[r.length]=e;}}while(0<l);}}catch(X){}return r;},_Ps=function(){var d=_Divs(),l,r=[];_Divs=null;if((l=d.length)){var e,fc,fcn,lc,lcn,p='p',pf='pre';try{do{if((e=d[--l])&&(fc=e.firstChild)&&(fcn=fc.tagName.toLowerCase())&&(lc=e.lastChild)&&(lcn=lc.tagName.toLowerCase())){if((pf==fcn)&&(p==lcn)){lc._PRE=fc;r[r.length]=lc;}else if((pf==lcn)&&(p==fcn)){fc._PRE=lc;r[r.length]=fc;}}d.length=l;}while(0<l);}catch(X){}}return r;};function _swap(anObj,aRE2Del,aCss2Add){aRE2Del.lastIndex=0;if(aRE2Del.test(anObj.className)){aRE2Del.lastIndex=0;anObj.className=(aCss2Add)?anObj.className.replace(aRE2Del,aCss2Add):anObj.className.replace(aRE2Del,_B);}else if(aCss2Add){anObj.className+=aCss2Add;}aRE2Del.lastIndex=0;}function _toggle(anEvent){if((anEvent=anEvent||window.event)){anEvent.cancelBubble=true;anEvent.returnValue=false;}if(this.className){if(_reH.test(this.className)){_swap(this._PRE,_reH,_cS);_swap(this,_reH,_cS);}else{_swap(this,_reS,_cH);_swap(this._PRE,_reS,_cH);}}else{this.className=this._PRE.className=_cH;}return false;}function ini(){if(_Ps){_ini=null;}else{return;}var d=_Ps(),l;_Ps=null;if((l=d.length)){var p,re=/\s*\bHideOnInit\b/ig;do{if((p=d[--l])&&(p._PRE)){if(re.test(p.className)){re.lastIndex=0;p._PRE.className+=_cH;p.className=p.className.replace(re,_cH);}else{p._PRE.className+=_cS;p.className+=_cS;}p.onclick=_toggle;re.lastIndex=0;}}while(0<l);}if(_DW){try{window.removeEvent(window,'load',ini);}catch(X){}}}if((_DW=('undefined'!=typeof(window.addEvent)))){try{window.addEvent(window,'load',ini);}catch(X){window.setTimeout(_ini,512);}}else{window.setTimeout(_ini,512);}return{js:ini};}();
